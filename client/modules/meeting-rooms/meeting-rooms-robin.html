<template name="meetingRooms">
   <div id="meeting-rooms" class="container-fluid">
      <div class="module">
      <h3>Meeting Rooms</h3>
      {{#unless room}}
         {{> loading}}
      {{/unless}}
      <div class="flex-row">
         {{#each room}}
         <div class="column">
            {{#with space}}
               <div class="title">
                  <h4>{{name}}</h4>
                  <a class="btn btn-sm" href="https://dashboard.robinpowered.com/mfsyd/locations/1548/spaces/{{id}}/details" target="_blank">Book me</a>
               </div>
            {{/with}}

            {{#if bookings}}
               <ul class="list-group">
                  {{#each bookings}}
                  <li class="list-group-item {{isInSession id}}">
                     <div class="session-notice">
                        <span class="icon icon-clock"></span>
                        <small>Session in progress.</small>
                     </div>
                     <h5>{{formatTime started_at 'h:mma'}} - {{formatTime ended_at 'h:mma'}} {{formatTime started_at 'Do MMM'}}</h5>
                     <h4>{{title}}</h4>

                     {{#each invitees}}
                        {{#if display_name}}
                        <small><span class="icon icon-dot-single"></span> {{display_name}}</small>
                        {{/if}}
                     {{/each}}

                     <span class="list-group-progress" style="width: {{progressPercent id}}%;"></span>
                  </li>
                  {{/each}}
               </ul>
            {{else}}
               <h3>No Bookings</h3>
            {{/if}}
         </div>
         {{/each}}
      </div>
      </div>
   </div>
</template>
